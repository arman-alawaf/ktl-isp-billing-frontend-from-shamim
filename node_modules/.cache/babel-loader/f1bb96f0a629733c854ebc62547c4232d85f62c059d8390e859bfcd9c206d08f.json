{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api, { ENDPOINTS } from '../services/api';\n\n// Async thunks for permissions\nexport const fetchPermissions = createAsyncThunk('permissions/fetchPermissions', async (params = {}) => {\n  const response = await api.get(ENDPOINTS.PERMISSIONS.LIST, {\n    params\n  });\n  return response.data;\n});\nexport const fetchPermissionById = createAsyncThunk('permissions/fetchPermissionById', async permissionId => {\n  const response = await api.get(ENDPOINTS.PERMISSIONS.DETAIL(permissionId));\n  return response.data;\n});\nconst initialState = {\n  permissions: [],\n  currentPermission: null,\n  loading: false,\n  error: null,\n  pagination: {\n    count: 0,\n    next: null,\n    previous: null,\n    currentPage: 1\n  }\n};\nconst permissionsSlice = createSlice({\n  name: 'permissions',\n  initialState,\n  reducers: {\n    clearError: state => {\n      state.error = null;\n    },\n    setCurrentPage: (state, action) => {\n      state.pagination.currentPage = action.payload;\n    },\n    resetPermissions: state => {\n      state.permissions = [];\n      state.pagination = initialState.pagination;\n    }\n  },\n  extraReducers: builder => {\n    builder\n    // Fetch Permissions\n    .addCase(fetchPermissions.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchPermissions.fulfilled, (state, action) => {\n      state.loading = false;\n      state.permissions = action.payload.results || action.payload;\n      state.pagination = {\n        count: action.payload.count || 0,\n        next: action.payload.next,\n        previous: action.payload.previous,\n        currentPage: state.pagination.currentPage\n      };\n    }).addCase(fetchPermissions.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message;\n    })\n\n    // Fetch Permission by ID\n    .addCase(fetchPermissionById.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchPermissionById.fulfilled, (state, action) => {\n      state.loading = false;\n      state.currentPermission = action.payload;\n    }).addCase(fetchPermissionById.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message;\n    });\n  }\n});\nexport const {\n  clearError,\n  setCurrentPage,\n  resetPermissions\n} = permissionsSlice.actions;\nexport default permissionsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","ENDPOINTS","fetchPermissions","params","response","get","PERMISSIONS","LIST","data","fetchPermissionById","permissionId","DETAIL","initialState","permissions","currentPermission","loading","error","pagination","count","next","previous","currentPage","permissionsSlice","name","reducers","clearError","state","setCurrentPage","action","payload","resetPermissions","extraReducers","builder","addCase","pending","fulfilled","results","rejected","message","actions","reducer"],"sources":["C:/Users/Arman/Desktop/ktl-isp-billing-frontend-main/ktl-isp-billing-frontend-main/src/store/permissionsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api, { ENDPOINTS } from '../services/api';\n\n// Async thunks for permissions\nexport const fetchPermissions = createAsyncThunk(\n  'permissions/fetchPermissions',\n  async (params = {}) => {\n    const response = await api.get(ENDPOINTS.PERMISSIONS.LIST, { params });\n    return response.data;\n  }\n);\n\nexport const fetchPermissionById = createAsyncThunk(\n  'permissions/fetchPermissionById',\n  async (permissionId) => {\n    const response = await api.get(ENDPOINTS.PERMISSIONS.DETAIL(permissionId));\n    return response.data;\n  }\n);\n\nconst initialState = {\n  permissions: [],\n  currentPermission: null,\n  loading: false,\n  error: null,\n  pagination: {\n    count: 0,\n    next: null,\n    previous: null,\n    currentPage: 1,\n  },\n};\n\nconst permissionsSlice = createSlice({\n  name: 'permissions',\n  initialState,\n  reducers: {\n    clearError: (state) => {\n      state.error = null;\n    },\n    setCurrentPage: (state, action) => {\n      state.pagination.currentPage = action.payload;\n    },\n    resetPermissions: (state) => {\n      state.permissions = [];\n      state.pagination = initialState.pagination;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // Fetch Permissions\n      .addCase(fetchPermissions.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchPermissions.fulfilled, (state, action) => {\n        state.loading = false;\n        state.permissions = action.payload.results || action.payload;\n        state.pagination = {\n          count: action.payload.count || 0,\n          next: action.payload.next,\n          previous: action.payload.previous,\n          currentPage: state.pagination.currentPage,\n        };\n      })\n      .addCase(fetchPermissions.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message;\n      })\n\n      // Fetch Permission by ID\n      .addCase(fetchPermissionById.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchPermissionById.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentPermission = action.payload;\n      })\n      .addCase(fetchPermissionById.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message;\n      });\n  },\n});\n\nexport const { clearError, setCurrentPage, resetPermissions } = permissionsSlice.actions;\nexport default permissionsSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}