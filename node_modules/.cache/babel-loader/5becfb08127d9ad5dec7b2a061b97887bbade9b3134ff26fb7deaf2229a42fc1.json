{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arman\\\\Desktop\\\\ktl-isp-billing-frontend-main\\\\ktl-isp-billing-frontend-main\\\\src\\\\pages\\\\settings\\\\organizationManagement.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/pages/settings/OrganizationManagement.jsx - Organization Management Component\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Building, Plus, Edit, Trash2, Eye, Save, X, AlertTriangle, RefreshCw, MapPin, Phone, Mail, Globe, Users } from 'lucide-react';\nimport { useOrganizations, useCreateOrganization, useUpdateOrganization, useDeleteOrganization } from '../../services/organizationService';\nimport GlassCard from '../../components/common/GlassCard';\nimport Button from '../../components/common/Button';\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\nimport Modal from '../../components/common/Modal';\nimport { toast } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OrganizationForm = ({\n  organization,\n  onSubmit,\n  onCancel,\n  isLoading\n}) => {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    reset\n  } = useForm({\n    defaultValues: organization || {}\n  });\n  useEffect(() => {\n    if (organization) {\n      reset(organization);\n    }\n  }, [organization, reset]);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-white/70 mb-2\",\n          children: \"Organization Name *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ...register('name', {\n            required: 'Organization name is required'\n          }),\n          type: \"text\",\n          className: \"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all\",\n          placeholder: \"Enter organization name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-300 text-sm mt-1\",\n          children: errors.name.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-white/70 mb-2\",\n          children: \"Organization Code *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ...register('code', {\n            required: 'Organization code is required'\n          }),\n          type: \"text\",\n          className: \"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all\",\n          placeholder: \"Enter organization code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), errors.code && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-300 text-sm mt-1\",\n          children: errors.code.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-white/70 mb-2\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ...register('email', {\n            pattern: {\n              value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n              message: 'Invalid email address'\n            }\n          }),\n          type: \"email\",\n          className: \"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all\",\n          placeholder: \"Enter email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-300 text-sm mt-1\",\n          children: errors.email.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-white/70 mb-2\",\n          children: \"Phone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ...register('phone'),\n          type: \"tel\",\n          className: \"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all\",\n          placeholder: \"Enter phone number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-white/70 mb-2\",\n          children: \"Website\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ...register('website'),\n          type: \"url\",\n          className: \"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all\",\n          placeholder: \"Enter website URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-white/70 mb-2\",\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          ...register('is_active'),\n          className: \"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: true,\n            children: \"Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: false,\n            children: \"Inactive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-white/70 mb-2\",\n        children: \"Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ...register('address'),\n        rows: 3,\n        className: \"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all resize-none\",\n        placeholder: \"Enter organization address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-white/70 mb-2\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ...register('description'),\n        rows: 3,\n        className: \"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all resize-none\",\n        placeholder: \"Enter organization description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-end space-x-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        variant: \"secondary\",\n        onClick: onCancel,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        disabled: isLoading,\n        className: \"flex items-center space-x-2\",\n        children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"w-4 h-4 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: organization ? 'Updating...' : 'Creating...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: organization ? 'Update' : 'Create'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(OrganizationForm, \"anH7KibGa7025s1aj5v8udLMaxE=\", false, function () {\n  return [useForm];\n});\n_c = OrganizationForm;\nconst OrganizationCard = ({\n  organization,\n  onEdit,\n  onDelete,\n  onView\n}) => {\n  return /*#__PURE__*/_jsxDEV(GlassCard, {\n    className: \"hover:bg-white/20 transition-all duration-300\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-gradient-to-br from-indigo-400 via-purple-500 to-pink-400 rounded-xl flex items-center justify-center shadow-lg\",\n            children: /*#__PURE__*/_jsxDEV(Building, {\n              className: \"w-6 h-6 text-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white\",\n              children: organization.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-white/60 text-sm\",\n              children: [\"Code: \", organization.code]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full text-xs font-medium ${organization.is_active ? 'bg-green-500/20 text-green-300 border border-green-500/30' : 'bg-red-500/20 text-red-300 border border-red-500/30'}`,\n            children: organization.is_active ? 'Active' : 'Inactive'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2 mb-4\",\n        children: [organization.email && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-white/60 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Mail, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this), organization.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), organization.phone && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-white/60 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Phone, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), organization.phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), organization.website && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-white/60 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Globe, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this), organization.website]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), organization.address && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-white/60 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), organization.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), organization.description && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white/70 text-sm mb-4 line-clamp-2\",\n        children: organization.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between pt-4 border-t border-white/10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-white/50 text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"w-4 h-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), organization.user_count || 0, \" users\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            size: \"sm\",\n            onClick: () => onView(organization),\n            className: \"text-white/60 hover:text-white\",\n            children: /*#__PURE__*/_jsxDEV(Eye, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            size: \"sm\",\n            onClick: () => onEdit(organization),\n            className: \"text-white/60 hover:text-white\",\n            children: /*#__PURE__*/_jsxDEV(Edit, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            size: \"sm\",\n            onClick: () => onDelete(organization),\n            className: \"text-red-400 hover:text-red-300\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n};\n_c2 = OrganizationCard;\nconst OrganizationManagement = () => {\n  _s2();\n  const [showForm, setShowForm] = useState(false);\n  const [editingOrganization, setEditingOrganization] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [organizationToDelete, setOrganizationToDelete] = useState(null);\n\n  // All users can manage organizations - no permission check needed\n\n  // React Query hooks\n  const {\n    data: organizations,\n    isLoading,\n    isError,\n    error,\n    refetch\n  } = useOrganizations();\n  const createMutation = useCreateOrganization();\n  const updateMutation = useUpdateOrganization();\n  const deleteMutation = useDeleteOrganization();\n\n  // Event handlers\n  const handleCreateNew = () => {\n    setEditingOrganization(null);\n    setShowForm(true);\n  };\n  const handleEdit = organization => {\n    setEditingOrganization(organization);\n    setShowForm(true);\n  };\n  const handleView = organization => {\n    // TODO: Implement view details modal or navigate to detail page\n    toast.info('View details feature coming soon!');\n  };\n  const handleDeleteClick = organization => {\n    setOrganizationToDelete(organization);\n    setShowDeleteModal(true);\n  };\n  const handleFormSubmit = async data => {\n    try {\n      if (editingOrganization) {\n        await updateMutation.mutateAsync({\n          organizationId: editingOrganization.id,\n          organizationData: data\n        });\n      } else {\n        await createMutation.mutateAsync(data);\n      }\n      setShowForm(false);\n      setEditingOrganization(null);\n    } catch (error) {\n      // Error handling is done in the mutation\n    }\n  };\n  const handleFormCancel = () => {\n    setShowForm(false);\n    setEditingOrganization(null);\n  };\n  const handleDeleteConfirm = async () => {\n    if (organizationToDelete) {\n      try {\n        await deleteMutation.mutateAsync(organizationToDelete.id);\n        setShowDeleteModal(false);\n        setOrganizationToDelete(null);\n      } catch (error) {\n        // Error handling is done in the mutation\n      }\n    }\n  };\n\n  // All users can manage organizations - no permission check needed\n\n  // Loading state\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-96\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        size: \"lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Error state\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center min-h-96 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"w-16 h-16 text-red-400 mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-white mb-2\",\n        children: \"Error Loading Organizations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white/60 mb-4\",\n        children: (error === null || error === void 0 ? void 0 : error.message) || 'Something went wrong'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => refetch(),\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent\",\n          children: \"Organization Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-white/60 mt-2\",\n          children: [\"Manage system organizations (\", Array.isArray(organizations) ? organizations.length : 0, \" organizations)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        size: \"lg\",\n        onClick: handleCreateNew,\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Add Organization\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: !organizations || organizations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full\",\n        children: /*#__PURE__*/_jsxDEV(GlassCard, {\n          className: \"p-12 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Building, {\n            className: \"w-16 h-16 text-white/40 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-white mb-2\",\n            children: \"No Organizations Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white/60 mb-4\",\n            children: \"Get started by creating your first organization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleCreateNew,\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              className: \"w-4 h-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this), \"Create Organization\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this) : (Array.isArray(organizations) ? organizations : []).map(organization => /*#__PURE__*/_jsxDEV(OrganizationCard, {\n        organization: organization,\n        onEdit: handleEdit,\n        onDelete: handleDeleteClick,\n        onView: handleView\n      }, organization.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: showForm,\n      onClose: handleFormCancel,\n      title: editingOrganization ? 'Edit Organization' : 'Create Organization',\n      size: \"xl\",\n      children: /*#__PURE__*/_jsxDEV(OrganizationForm, {\n        organization: editingOrganization,\n        onSubmit: handleFormSubmit,\n        onCancel: handleFormCancel,\n        isLoading: createMutation.isLoading || updateMutation.isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: showDeleteModal,\n      onClose: () => setShowDeleteModal(false),\n      title: \"Delete Organization\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n              className: \"w-6 h-6 text-red-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white\",\n              children: [\"Delete \", organizationToDelete === null || organizationToDelete === void 0 ? void 0 : organizationToDelete.name, \"?\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-white/60 text-sm\",\n              children: \"This action cannot be undone. All organization data will be permanently removed. Users associated with this organization may be affected.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-end space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: () => setShowDeleteModal(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: handleDeleteConfirm,\n            disabled: deleteMutation.isLoading,\n            children: deleteMutation.isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"w-4 h-4 animate-spin mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this), \"Deleting...\"]\n            }, void 0, true) : 'Delete Organization'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 397,\n    columnNumber: 5\n  }, this);\n};\n_s2(OrganizationManagement, \"slFnn19vsLfMW+8J3udMyBV/Hjg=\", false, function () {\n  return [useOrganizations, useCreateOrganization, useUpdateOrganization, useDeleteOrganization];\n});\n_c3 = OrganizationManagement;\nexport default OrganizationManagement;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"OrganizationForm\");\n$RefreshReg$(_c2, \"OrganizationCard\");\n$RefreshReg$(_c3, \"OrganizationManagement\");","map":{"version":3,"names":["React","useState","useEffect","useForm","Building","Plus","Edit","Trash2","Eye","Save","X","AlertTriangle","RefreshCw","MapPin","Phone","Mail","Globe","Users","useOrganizations","useCreateOrganization","useUpdateOrganization","useDeleteOrganization","GlassCard","Button","LoadingSpinner","Modal","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","OrganizationForm","organization","onSubmit","onCancel","isLoading","_s","register","handleSubmit","formState","errors","reset","defaultValues","className","children","fileName","_jsxFileName","lineNumber","columnNumber","required","type","placeholder","name","message","code","pattern","value","email","rows","variant","onClick","disabled","_c","OrganizationCard","onEdit","onDelete","onView","is_active","phone","website","address","description","user_count","size","_c2","OrganizationManagement","_s2","showForm","setShowForm","editingOrganization","setEditingOrganization","showDeleteModal","setShowDeleteModal","organizationToDelete","setOrganizationToDelete","data","organizations","isError","error","refetch","createMutation","updateMutation","deleteMutation","handleCreateNew","handleEdit","handleView","info","handleDeleteClick","handleFormSubmit","mutateAsync","organizationId","id","organizationData","handleFormCancel","handleDeleteConfirm","Array","isArray","length","map","isOpen","onClose","title","_c3","$RefreshReg$"],"sources":["C:/Users/Arman/Desktop/ktl-isp-billing-frontend-main/ktl-isp-billing-frontend-main/src/pages/settings/organizationManagement.jsx"],"sourcesContent":["// src/pages/settings/OrganizationManagement.jsx - Organization Management Component\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport {\n  Building,\n  Plus,\n  Edit,\n  Trash2,\n  Eye,\n  Save,\n  X,\n  AlertTriangle,\n  RefreshCw,\n  MapPin,\n  Phone,\n  Mail,\n  Globe,\n  Users\n} from 'lucide-react';\nimport {\n  useOrganizations,\n  useCreateOrganization,\n  useUpdateOrganization,\n  useDeleteOrganization\n} from '../../services/organizationService';\n\nimport GlassCard from '../../components/common/GlassCard';\nimport Button from '../../components/common/Button';\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\nimport Modal from '../../components/common/Modal';\nimport { toast } from 'react-hot-toast';\n\nconst OrganizationForm = ({ organization, onSubmit, onCancel, isLoading }) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset\n  } = useForm({\n    defaultValues: organization || {}\n  });\n\n  useEffect(() => {\n    if (organization) {\n      reset(organization);\n    }\n  }, [organization, reset]);\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* Organization Name */}\n        <div>\n          <label className=\"block text-sm font-medium text-white/70 mb-2\">\n            Organization Name *\n          </label>\n          <input\n            {...register('name', { required: 'Organization name is required' })}\n            type=\"text\"\n            className=\"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all\"\n            placeholder=\"Enter organization name\"\n          />\n          {errors.name && (\n            <p className=\"text-red-300 text-sm mt-1\">{errors.name.message}</p>\n          )}\n        </div>\n\n        {/* Organization Code */}\n        <div>\n          <label className=\"block text-sm font-medium text-white/70 mb-2\">\n            Organization Code *\n          </label>\n          <input\n            {...register('code', { required: 'Organization code is required' })}\n            type=\"text\"\n            className=\"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all\"\n            placeholder=\"Enter organization code\"\n          />\n          {errors.code && (\n            <p className=\"text-red-300 text-sm mt-1\">{errors.code.message}</p>\n          )}\n        </div>\n\n        {/* Email */}\n        <div>\n          <label className=\"block text-sm font-medium text-white/70 mb-2\">\n            Email\n          </label>\n          <input\n            {...register('email', {\n              pattern: {\n                value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                message: 'Invalid email address'\n              }\n            })}\n            type=\"email\"\n            className=\"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all\"\n            placeholder=\"Enter email address\"\n          />\n          {errors.email && (\n            <p className=\"text-red-300 text-sm mt-1\">{errors.email.message}</p>\n          )}\n        </div>\n\n        {/* Phone */}\n        <div>\n          <label className=\"block text-sm font-medium text-white/70 mb-2\">\n            Phone\n          </label>\n          <input\n            {...register('phone')}\n            type=\"tel\"\n            className=\"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all\"\n            placeholder=\"Enter phone number\"\n          />\n        </div>\n\n        {/* Website */}\n        <div>\n          <label className=\"block text-sm font-medium text-white/70 mb-2\">\n            Website\n          </label>\n          <input\n            {...register('website')}\n            type=\"url\"\n            className=\"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all\"\n            placeholder=\"Enter website URL\"\n          />\n        </div>\n\n        {/* Status */}\n        <div>\n          <label className=\"block text-sm font-medium text-white/70 mb-2\">\n            Status\n          </label>\n          <select\n            {...register('is_active')}\n            className=\"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white\"\n          >\n            <option value={true}>Active</option>\n            <option value={false}>Inactive</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Address */}\n      <div>\n        <label className=\"block text-sm font-medium text-white/70 mb-2\">\n          Address\n        </label>\n        <textarea\n          {...register('address')}\n          rows={3}\n          className=\"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all resize-none\"\n          placeholder=\"Enter organization address\"\n        />\n      </div>\n\n      {/* Description */}\n      <div>\n        <label className=\"block text-sm font-medium text-white/70 mb-2\">\n          Description\n        </label>\n        <textarea\n          {...register('description')}\n          rows={3}\n          className=\"w-full px-4 py-3 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-white/50 transition-all resize-none\"\n          placeholder=\"Enter organization description\"\n        />\n      </div>\n\n      {/* Form Actions */}\n      <div className=\"flex items-center justify-end space-x-3 pt-4\">\n        <Button\n          type=\"button\"\n          variant=\"secondary\"\n          onClick={onCancel}\n        >\n          Cancel\n        </Button>\n        <Button\n          type=\"submit\"\n          variant=\"primary\"\n          disabled={isLoading}\n          className=\"flex items-center space-x-2\"\n        >\n          {isLoading ? (\n            <>\n              <RefreshCw className=\"w-4 h-4 animate-spin\" />\n              <span>{organization ? 'Updating...' : 'Creating...'}</span>\n            </>\n          ) : (\n            <>\n              <Save className=\"w-4 h-4\" />\n              <span>{organization ? 'Update' : 'Create'}</span>\n            </>\n          )}\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nconst OrganizationCard = ({ organization, onEdit, onDelete, onView }) => {\n  return (\n    <GlassCard className=\"hover:bg-white/20 transition-all duration-300\">\n      <div className=\"p-6\">\n        <div className=\"flex items-start justify-between mb-4\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-12 h-12 bg-gradient-to-br from-indigo-400 via-purple-500 to-pink-400 rounded-xl flex items-center justify-center shadow-lg\">\n              <Building className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold text-white\">{organization.name}</h3>\n              <p className=\"text-white/60 text-sm\">Code: {organization.code}</p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n              organization.is_active \n                ? 'bg-green-500/20 text-green-300 border border-green-500/30'\n                : 'bg-red-500/20 text-red-300 border border-red-500/30'\n            }`}>\n              {organization.is_active ? 'Active' : 'Inactive'}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"space-y-2 mb-4\">\n          {organization.email && (\n            <div className=\"flex items-center text-white/60 text-sm\">\n              <Mail className=\"w-4 h-4 mr-2\" />\n              {organization.email}\n            </div>\n          )}\n          {organization.phone && (\n            <div className=\"flex items-center text-white/60 text-sm\">\n              <Phone className=\"w-4 h-4 mr-2\" />\n              {organization.phone}\n            </div>\n          )}\n          {organization.website && (\n            <div className=\"flex items-center text-white/60 text-sm\">\n              <Globe className=\"w-4 h-4 mr-2\" />\n              {organization.website}\n            </div>\n          )}\n          {organization.address && (\n            <div className=\"flex items-center text-white/60 text-sm\">\n              <MapPin className=\"w-4 h-4 mr-2\" />\n              {organization.address}\n            </div>\n          )}\n        </div>\n\n        {organization.description && (\n          <p className=\"text-white/70 text-sm mb-4 line-clamp-2\">\n            {organization.description}\n          </p>\n        )}\n\n        <div className=\"flex items-center justify-between pt-4 border-t border-white/10\">\n          <div className=\"flex items-center text-white/50 text-xs\">\n            <Users className=\"w-4 h-4 mr-1\" />\n            {organization.user_count || 0} users\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => onView(organization)}\n              className=\"text-white/60 hover:text-white\"\n            >\n              <Eye className=\"w-4 h-4\" />\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => onEdit(organization)}\n              className=\"text-white/60 hover:text-white\"\n            >\n              <Edit className=\"w-4 h-4\" />\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => onDelete(organization)}\n              className=\"text-red-400 hover:text-red-300\"\n            >\n              <Trash2 className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n    </GlassCard>\n  );\n};\n\nconst OrganizationManagement = () => {\n  const [showForm, setShowForm] = useState(false);\n  const [editingOrganization, setEditingOrganization] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [organizationToDelete, setOrganizationToDelete] = useState(null);\n\n  // All users can manage organizations - no permission check needed\n\n  // React Query hooks\n  const { data: organizations, isLoading, isError, error, refetch } = useOrganizations();\n  const createMutation = useCreateOrganization();\n  const updateMutation = useUpdateOrganization();\n  const deleteMutation = useDeleteOrganization();\n\n  // Event handlers\n  const handleCreateNew = () => {\n    setEditingOrganization(null);\n    setShowForm(true);\n  };\n\n  const handleEdit = (organization) => {\n    setEditingOrganization(organization);\n    setShowForm(true);\n  };\n\n  const handleView = (organization) => {\n    // TODO: Implement view details modal or navigate to detail page\n    toast.info('View details feature coming soon!');\n  };\n\n  const handleDeleteClick = (organization) => {\n    setOrganizationToDelete(organization);\n    setShowDeleteModal(true);\n  };\n\n  const handleFormSubmit = async (data) => {\n    try {\n      if (editingOrganization) {\n        await updateMutation.mutateAsync({\n          organizationId: editingOrganization.id,\n          organizationData: data\n        });\n      } else {\n        await createMutation.mutateAsync(data);\n      }\n      setShowForm(false);\n      setEditingOrganization(null);\n    } catch (error) {\n      // Error handling is done in the mutation\n    }\n  };\n\n  const handleFormCancel = () => {\n    setShowForm(false);\n    setEditingOrganization(null);\n  };\n\n  const handleDeleteConfirm = async () => {\n    if (organizationToDelete) {\n      try {\n        await deleteMutation.mutateAsync(organizationToDelete.id);\n        setShowDeleteModal(false);\n        setOrganizationToDelete(null);\n      } catch (error) {\n        // Error handling is done in the mutation\n      }\n    }\n  };\n\n  // All users can manage organizations - no permission check needed\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-96\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  // Error state\n  if (isError) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-96 text-center\">\n        <AlertTriangle className=\"w-16 h-16 text-red-400 mb-4\" />\n        <h2 className=\"text-xl font-semibold text-white mb-2\">Error Loading Organizations</h2>\n        <p className=\"text-white/60 mb-4\">{error?.message || 'Something went wrong'}</p>\n        <Button onClick={() => refetch()} className=\"flex items-center space-x-2\">\n          <RefreshCw className=\"w-4 h-4\" />\n          <span>Retry</span>\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent\">\n            Organization Management\n          </h1>\n          <p className=\"text-white/60 mt-2\">\n            Manage system organizations ({Array.isArray(organizations) ? organizations.length : 0} organizations)\n          </p>\n        </div>\n\n        <Button\n          variant=\"primary\"\n          size=\"lg\"\n          onClick={handleCreateNew}\n          className=\"flex items-center space-x-2\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          <span>Add Organization</span>\n        </Button>\n      </div>\n\n      {/* Organizations Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {(!organizations || organizations.length === 0) ? (\n          <div className=\"col-span-full\">\n            <GlassCard className=\"p-12 text-center\">\n              <Building className=\"w-16 h-16 text-white/40 mx-auto mb-4\" />\n              <h3 className=\"text-xl font-semibold text-white mb-2\">No Organizations Found</h3>\n              <p className=\"text-white/60 mb-4\">\n                Get started by creating your first organization\n              </p>\n              <Button variant=\"primary\" onClick={handleCreateNew}>\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Create Organization\n              </Button>\n            </GlassCard>\n          </div>\n        ) : (\n          (Array.isArray(organizations) ? organizations : []).map((organization) => (\n            <OrganizationCard\n              key={organization.id}\n              organization={organization}\n              onEdit={handleEdit}\n              onDelete={handleDeleteClick}\n              onView={handleView}\n            />\n          ))\n        )}\n      </div>\n\n      {/* Create/Edit Form Modal */}\n      <Modal\n        isOpen={showForm}\n        onClose={handleFormCancel}\n        title={editingOrganization ? 'Edit Organization' : 'Create Organization'}\n        size=\"xl\"\n      >\n        <OrganizationForm\n          organization={editingOrganization}\n          onSubmit={handleFormSubmit}\n          onCancel={handleFormCancel}\n          isLoading={createMutation.isLoading || updateMutation.isLoading}\n        />\n      </Modal>\n\n      {/* Delete Confirmation Modal */}\n      <Modal\n        isOpen={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        title=\"Delete Organization\"\n      >\n        <div className=\"p-6\">\n          <div className=\"flex items-center space-x-3 mb-4\">\n            <div className=\"w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center\">\n              <AlertTriangle className=\"w-6 h-6 text-red-400\" />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold text-white\">\n                Delete {organizationToDelete?.name}?\n              </h3>\n              <p className=\"text-white/60 text-sm\">\n                This action cannot be undone. All organization data will be permanently removed.\n                Users associated with this organization may be affected.\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-end space-x-3\">\n            <Button\n              variant=\"secondary\"\n              onClick={() => setShowDeleteModal(false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"danger\"\n              onClick={handleDeleteConfirm}\n              disabled={deleteMutation.isLoading}\n            >\n              {deleteMutation.isLoading ? (\n                <>\n                  <RefreshCw className=\"w-4 h-4 animate-spin mr-2\" />\n                  Deleting...\n                </>\n              ) : (\n                'Delete Organization'\n              )}\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default OrganizationManagement;\n\n"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SACEC,QAAQ,EACRC,IAAI,EACJC,IAAI,EACJC,MAAM,EACNC,GAAG,EACHC,IAAI,EACJC,CAAC,EACDC,aAAa,EACbC,SAAS,EACTC,MAAM,EACNC,KAAK,EACLC,IAAI,EACJC,KAAK,EACLC,KAAK,QACA,cAAc;AACrB,SACEC,gBAAgB,EAChBC,qBAAqB,EACrBC,qBAAqB,EACrBC,qBAAqB,QAChB,oCAAoC;AAE3C,OAAOC,SAAS,MAAM,mCAAmC;AACzD,OAAOC,MAAM,MAAM,gCAAgC;AACnD,OAAOC,cAAc,MAAM,wCAAwC;AACnE,OAAOC,KAAK,MAAM,+BAA+B;AACjD,SAASC,KAAK,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAExC,MAAMC,gBAAgB,GAAGA,CAAC;EAAEC,YAAY;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAC5E,MAAM;IACJC,QAAQ;IACRC,YAAY;IACZC,SAAS,EAAE;MAAEC;IAAO,CAAC;IACrBC;EACF,CAAC,GAAGtC,OAAO,CAAC;IACVuC,aAAa,EAAEV,YAAY,IAAI,CAAC;EAClC,CAAC,CAAC;EAEF9B,SAAS,CAAC,MAAM;IACd,IAAI8B,YAAY,EAAE;MAChBS,KAAK,CAACT,YAAY,CAAC;IACrB;EACF,CAAC,EAAE,CAACA,YAAY,EAAES,KAAK,CAAC,CAAC;EAEzB,oBACEb,OAAA;IAAMK,QAAQ,EAAEK,YAAY,CAACL,QAAQ,CAAE;IAACU,SAAS,EAAC,WAAW;IAAAC,QAAA,gBAC3DhB,OAAA;MAAKe,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBAEpDhB,OAAA;QAAAgB,QAAA,gBACEhB,OAAA;UAAOe,SAAS,EAAC,8CAA8C;UAAAC,QAAA,EAAC;QAEhE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRpB,OAAA;UAAA,GACMS,QAAQ,CAAC,MAAM,EAAE;YAAEY,QAAQ,EAAE;UAAgC,CAAC,CAAC;UACnEC,IAAI,EAAC,MAAM;UACXP,SAAS,EAAC,uLAAuL;UACjMQ,WAAW,EAAC;QAAyB;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC,EACDR,MAAM,CAACY,IAAI,iBACVxB,OAAA;UAAGe,SAAS,EAAC,2BAA2B;UAAAC,QAAA,EAAEJ,MAAM,CAACY,IAAI,CAACC;QAAO;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAClE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGNpB,OAAA;QAAAgB,QAAA,gBACEhB,OAAA;UAAOe,SAAS,EAAC,8CAA8C;UAAAC,QAAA,EAAC;QAEhE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRpB,OAAA;UAAA,GACMS,QAAQ,CAAC,MAAM,EAAE;YAAEY,QAAQ,EAAE;UAAgC,CAAC,CAAC;UACnEC,IAAI,EAAC,MAAM;UACXP,SAAS,EAAC,uLAAuL;UACjMQ,WAAW,EAAC;QAAyB;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC,EACDR,MAAM,CAACc,IAAI,iBACV1B,OAAA;UAAGe,SAAS,EAAC,2BAA2B;UAAAC,QAAA,EAAEJ,MAAM,CAACc,IAAI,CAACD;QAAO;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAClE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGNpB,OAAA;QAAAgB,QAAA,gBACEhB,OAAA;UAAOe,SAAS,EAAC,8CAA8C;UAAAC,QAAA,EAAC;QAEhE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRpB,OAAA;UAAA,GACMS,QAAQ,CAAC,OAAO,EAAE;YACpBkB,OAAO,EAAE;cACPC,KAAK,EAAE,0CAA0C;cACjDH,OAAO,EAAE;YACX;UACF,CAAC,CAAC;UACFH,IAAI,EAAC,OAAO;UACZP,SAAS,EAAC,uLAAuL;UACjMQ,WAAW,EAAC;QAAqB;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC,EACDR,MAAM,CAACiB,KAAK,iBACX7B,OAAA;UAAGe,SAAS,EAAC,2BAA2B;UAAAC,QAAA,EAAEJ,MAAM,CAACiB,KAAK,CAACJ;QAAO;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CACnE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGNpB,OAAA;QAAAgB,QAAA,gBACEhB,OAAA;UAAOe,SAAS,EAAC,8CAA8C;UAAAC,QAAA,EAAC;QAEhE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRpB,OAAA;UAAA,GACMS,QAAQ,CAAC,OAAO,CAAC;UACrBa,IAAI,EAAC,KAAK;UACVP,SAAS,EAAC,uLAAuL;UACjMQ,WAAW,EAAC;QAAoB;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGNpB,OAAA;QAAAgB,QAAA,gBACEhB,OAAA;UAAOe,SAAS,EAAC,8CAA8C;UAAAC,QAAA,EAAC;QAEhE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRpB,OAAA;UAAA,GACMS,QAAQ,CAAC,SAAS,CAAC;UACvBa,IAAI,EAAC,KAAK;UACVP,SAAS,EAAC,uLAAuL;UACjMQ,WAAW,EAAC;QAAmB;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGNpB,OAAA;QAAAgB,QAAA,gBACEhB,OAAA;UAAOe,SAAS,EAAC,8CAA8C;UAAAC,QAAA,EAAC;QAEhE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACRpB,OAAA;UAAA,GACMS,QAAQ,CAAC,WAAW,CAAC;UACzBM,SAAS,EAAC,mJAAmJ;UAAAC,QAAA,gBAE7JhB,OAAA;YAAQ4B,KAAK,EAAE,IAAK;YAAAZ,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACpCpB,OAAA;YAAQ4B,KAAK,EAAE,KAAM;YAAAZ,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNpB,OAAA;MAAAgB,QAAA,gBACEhB,OAAA;QAAOe,SAAS,EAAC,8CAA8C;QAAAC,QAAA,EAAC;MAEhE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACRpB,OAAA;QAAA,GACMS,QAAQ,CAAC,SAAS,CAAC;QACvBqB,IAAI,EAAE,CAAE;QACRf,SAAS,EAAC,mMAAmM;QAC7MQ,WAAW,EAAC;MAA4B;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGNpB,OAAA;MAAAgB,QAAA,gBACEhB,OAAA;QAAOe,SAAS,EAAC,8CAA8C;QAAAC,QAAA,EAAC;MAEhE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACRpB,OAAA;QAAA,GACMS,QAAQ,CAAC,aAAa,CAAC;QAC3BqB,IAAI,EAAE,CAAE;QACRf,SAAS,EAAC,mMAAmM;QAC7MQ,WAAW,EAAC;MAAgC;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGNpB,OAAA;MAAKe,SAAS,EAAC,8CAA8C;MAAAC,QAAA,gBAC3DhB,OAAA,CAACL,MAAM;QACL2B,IAAI,EAAC,QAAQ;QACbS,OAAO,EAAC,WAAW;QACnBC,OAAO,EAAE1B,QAAS;QAAAU,QAAA,EACnB;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTpB,OAAA,CAACL,MAAM;QACL2B,IAAI,EAAC,QAAQ;QACbS,OAAO,EAAC,SAAS;QACjBE,QAAQ,EAAE1B,SAAU;QACpBQ,SAAS,EAAC,6BAA6B;QAAAC,QAAA,EAEtCT,SAAS,gBACRP,OAAA,CAAAE,SAAA;UAAAc,QAAA,gBACEhB,OAAA,CAAChB,SAAS;YAAC+B,SAAS,EAAC;UAAsB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC9CpB,OAAA;YAAAgB,QAAA,EAAOZ,YAAY,GAAG,aAAa,GAAG;UAAa;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA,eAC3D,CAAC,gBAEHpB,OAAA,CAAAE,SAAA;UAAAc,QAAA,gBACEhB,OAAA,CAACnB,IAAI;YAACkC,SAAS,EAAC;UAAS;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC5BpB,OAAA;YAAAgB,QAAA,EAAOZ,YAAY,GAAG,QAAQ,GAAG;UAAQ;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA,eACjD;MACH;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEX,CAAC;AAACZ,EAAA,CAzKIL,gBAAgB;EAAA,QAMhB5B,OAAO;AAAA;AAAA2D,EAAA,GANP/B,gBAAgB;AA2KtB,MAAMgC,gBAAgB,GAAGA,CAAC;EAAE/B,YAAY;EAAEgC,MAAM;EAAEC,QAAQ;EAAEC;AAAO,CAAC,KAAK;EACvE,oBACEtC,OAAA,CAACN,SAAS;IAACqB,SAAS,EAAC,+CAA+C;IAAAC,QAAA,eAClEhB,OAAA;MAAKe,SAAS,EAAC,KAAK;MAAAC,QAAA,gBAClBhB,OAAA;QAAKe,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBACpDhB,OAAA;UAAKe,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1ChB,OAAA;YAAKe,SAAS,EAAC,8HAA8H;YAAAC,QAAA,eAC3IhB,OAAA,CAACxB,QAAQ;cAACuC,SAAS,EAAC;YAAoB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC,eACNpB,OAAA;YAAAgB,QAAA,gBACEhB,OAAA;cAAIe,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAEZ,YAAY,CAACoB;YAAI;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzEpB,OAAA;cAAGe,SAAS,EAAC,uBAAuB;cAAAC,QAAA,GAAC,QAAM,EAACZ,YAAY,CAACsB,IAAI;YAAA;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENpB,OAAA;UAAKe,SAAS,EAAC,6BAA6B;UAAAC,QAAA,eAC1ChB,OAAA;YAAMe,SAAS,EAAE,8CACfX,YAAY,CAACmC,SAAS,GAClB,2DAA2D,GAC3D,qDAAqD,EACxD;YAAAvB,QAAA,EACAZ,YAAY,CAACmC,SAAS,GAAG,QAAQ,GAAG;UAAU;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpB,OAAA;QAAKe,SAAS,EAAC,gBAAgB;QAAAC,QAAA,GAC5BZ,YAAY,CAACyB,KAAK,iBACjB7B,OAAA;UAAKe,SAAS,EAAC,yCAAyC;UAAAC,QAAA,gBACtDhB,OAAA,CAACb,IAAI;YAAC4B,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAChChB,YAAY,CAACyB,KAAK;QAAA;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CACN,EACAhB,YAAY,CAACoC,KAAK,iBACjBxC,OAAA;UAAKe,SAAS,EAAC,yCAAyC;UAAAC,QAAA,gBACtDhB,OAAA,CAACd,KAAK;YAAC6B,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACjChB,YAAY,CAACoC,KAAK;QAAA;UAAAvB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CACN,EACAhB,YAAY,CAACqC,OAAO,iBACnBzC,OAAA;UAAKe,SAAS,EAAC,yCAAyC;UAAAC,QAAA,gBACtDhB,OAAA,CAACZ,KAAK;YAAC2B,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACjChB,YAAY,CAACqC,OAAO;QAAA;UAAAxB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CACN,EACAhB,YAAY,CAACsC,OAAO,iBACnB1C,OAAA;UAAKe,SAAS,EAAC,yCAAyC;UAAAC,QAAA,gBACtDhB,OAAA,CAACf,MAAM;YAAC8B,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAClChB,YAAY,CAACsC,OAAO;QAAA;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAELhB,YAAY,CAACuC,WAAW,iBACvB3C,OAAA;QAAGe,SAAS,EAAC,yCAAyC;QAAAC,QAAA,EACnDZ,YAAY,CAACuC;MAAW;QAAA1B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxB,CACJ,eAEDpB,OAAA;QAAKe,SAAS,EAAC,iEAAiE;QAAAC,QAAA,gBAC9EhB,OAAA;UAAKe,SAAS,EAAC,yCAAyC;UAAAC,QAAA,gBACtDhB,OAAA,CAACX,KAAK;YAAC0B,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACjChB,YAAY,CAACwC,UAAU,IAAI,CAAC,EAAC,QAChC;QAAA;UAAA3B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAENpB,OAAA;UAAKe,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1ChB,OAAA,CAACL,MAAM;YACLoC,OAAO,EAAC,OAAO;YACfc,IAAI,EAAC,IAAI;YACTb,OAAO,EAAEA,CAAA,KAAMM,MAAM,CAAClC,YAAY,CAAE;YACpCW,SAAS,EAAC,gCAAgC;YAAAC,QAAA,eAE1ChB,OAAA,CAACpB,GAAG;cAACmC,SAAS,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CAAC,eACTpB,OAAA,CAACL,MAAM;YACLoC,OAAO,EAAC,OAAO;YACfc,IAAI,EAAC,IAAI;YACTb,OAAO,EAAEA,CAAA,KAAMI,MAAM,CAAChC,YAAY,CAAE;YACpCW,SAAS,EAAC,gCAAgC;YAAAC,QAAA,eAE1ChB,OAAA,CAACtB,IAAI;cAACqC,SAAS,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtB,CAAC,eACTpB,OAAA,CAACL,MAAM;YACLoC,OAAO,EAAC,OAAO;YACfc,IAAI,EAAC,IAAI;YACTb,OAAO,EAAEA,CAAA,KAAMK,QAAQ,CAACjC,YAAY,CAAE;YACtCW,SAAS,EAAC,iCAAiC;YAAAC,QAAA,eAE3ChB,OAAA,CAACrB,MAAM;cAACoC,SAAS,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEhB,CAAC;AAAC0B,GAAA,GA/FIX,gBAAgB;AAiGtB,MAAMY,sBAAsB,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACnC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG7E,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC8E,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG/E,QAAQ,CAAC,IAAI,CAAC;EACpE,MAAM,CAACgF,eAAe,EAAEC,kBAAkB,CAAC,GAAGjF,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACkF,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGnF,QAAQ,CAAC,IAAI,CAAC;;EAEtE;;EAEA;EACA,MAAM;IAAEoF,IAAI,EAAEC,aAAa;IAAEnD,SAAS;IAAEoD,OAAO;IAAEC,KAAK;IAAEC;EAAQ,CAAC,GAAGvE,gBAAgB,CAAC,CAAC;EACtF,MAAMwE,cAAc,GAAGvE,qBAAqB,CAAC,CAAC;EAC9C,MAAMwE,cAAc,GAAGvE,qBAAqB,CAAC,CAAC;EAC9C,MAAMwE,cAAc,GAAGvE,qBAAqB,CAAC,CAAC;;EAE9C;EACA,MAAMwE,eAAe,GAAGA,CAAA,KAAM;IAC5Bb,sBAAsB,CAAC,IAAI,CAAC;IAC5BF,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMgB,UAAU,GAAI9D,YAAY,IAAK;IACnCgD,sBAAsB,CAAChD,YAAY,CAAC;IACpC8C,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMiB,UAAU,GAAI/D,YAAY,IAAK;IACnC;IACAN,KAAK,CAACsE,IAAI,CAAC,mCAAmC,CAAC;EACjD,CAAC;EAED,MAAMC,iBAAiB,GAAIjE,YAAY,IAAK;IAC1CoD,uBAAuB,CAACpD,YAAY,CAAC;IACrCkD,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAMgB,gBAAgB,GAAG,MAAOb,IAAI,IAAK;IACvC,IAAI;MACF,IAAIN,mBAAmB,EAAE;QACvB,MAAMY,cAAc,CAACQ,WAAW,CAAC;UAC/BC,cAAc,EAAErB,mBAAmB,CAACsB,EAAE;UACtCC,gBAAgB,EAAEjB;QACpB,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,MAAMK,cAAc,CAACS,WAAW,CAACd,IAAI,CAAC;MACxC;MACAP,WAAW,CAAC,KAAK,CAAC;MAClBE,sBAAsB,CAAC,IAAI,CAAC;IAC9B,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACd;IAAA;EAEJ,CAAC;EAED,MAAMe,gBAAgB,GAAGA,CAAA,KAAM;IAC7BzB,WAAW,CAAC,KAAK,CAAC;IAClBE,sBAAsB,CAAC,IAAI,CAAC;EAC9B,CAAC;EAED,MAAMwB,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAIrB,oBAAoB,EAAE;MACxB,IAAI;QACF,MAAMS,cAAc,CAACO,WAAW,CAAChB,oBAAoB,CAACkB,EAAE,CAAC;QACzDnB,kBAAkB,CAAC,KAAK,CAAC;QACzBE,uBAAuB,CAAC,IAAI,CAAC;MAC/B,CAAC,CAAC,OAAOI,KAAK,EAAE;QACd;MAAA;IAEJ;EACF,CAAC;;EAED;;EAEA;EACA,IAAIrD,SAAS,EAAE;IACb,oBACEP,OAAA;MAAKe,SAAS,EAAC,2CAA2C;MAAAC,QAAA,eACxDhB,OAAA,CAACJ,cAAc;QAACiD,IAAI,EAAC;MAAI;QAAA5B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC;EAEV;;EAEA;EACA,IAAIuC,OAAO,EAAE;IACX,oBACE3D,OAAA;MAAKe,SAAS,EAAC,gEAAgE;MAAAC,QAAA,gBAC7EhB,OAAA,CAACjB,aAAa;QAACgC,SAAS,EAAC;MAA6B;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzDpB,OAAA;QAAIe,SAAS,EAAC,uCAAuC;QAAAC,QAAA,EAAC;MAA2B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtFpB,OAAA;QAAGe,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAE,CAAA4C,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEnC,OAAO,KAAI;MAAsB;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChFpB,OAAA,CAACL,MAAM;QAACqC,OAAO,EAAEA,CAAA,KAAM6B,OAAO,CAAC,CAAE;QAAC9C,SAAS,EAAC,6BAA6B;QAAAC,QAAA,gBACvEhB,OAAA,CAAChB,SAAS;UAAC+B,SAAS,EAAC;QAAS;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACjCpB,OAAA;UAAAgB,QAAA,EAAM;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAEV;EAEA,oBACEpB,OAAA;IAAKe,SAAS,EAAC,WAAW;IAAAC,QAAA,gBAExBhB,OAAA;MAAKe,SAAS,EAAC,mCAAmC;MAAAC,QAAA,gBAChDhB,OAAA;QAAAgB,QAAA,gBACEhB,OAAA;UAAIe,SAAS,EAAC,yGAAyG;UAAAC,QAAA,EAAC;QAExH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACLpB,OAAA;UAAGe,SAAS,EAAC,oBAAoB;UAAAC,QAAA,GAAC,+BACH,EAAC6D,KAAK,CAACC,OAAO,CAACpB,aAAa,CAAC,GAAGA,aAAa,CAACqB,MAAM,GAAG,CAAC,EAAC,iBACxF;QAAA;UAAA9D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAENpB,OAAA,CAACL,MAAM;QACLoC,OAAO,EAAC,SAAS;QACjBc,IAAI,EAAC,IAAI;QACTb,OAAO,EAAEiC,eAAgB;QACzBlD,SAAS,EAAC,6BAA6B;QAAAC,QAAA,gBAEvChB,OAAA,CAACvB,IAAI;UAACsC,SAAS,EAAC;QAAS;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC5BpB,OAAA;UAAAgB,QAAA,EAAM;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGNpB,OAAA;MAAKe,SAAS,EAAC,sDAAsD;MAAAC,QAAA,EACjE,CAAC0C,aAAa,IAAIA,aAAa,CAACqB,MAAM,KAAK,CAAC,gBAC5C/E,OAAA;QAAKe,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5BhB,OAAA,CAACN,SAAS;UAACqB,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBACrChB,OAAA,CAACxB,QAAQ;YAACuC,SAAS,EAAC;UAAsC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7DpB,OAAA;YAAIe,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAsB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjFpB,OAAA;YAAGe,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAElC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJpB,OAAA,CAACL,MAAM;YAACoC,OAAO,EAAC,SAAS;YAACC,OAAO,EAAEiC,eAAgB;YAAAjD,QAAA,gBACjDhB,OAAA,CAACvB,IAAI;cAACsC,SAAS,EAAC;YAAc;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,uBAEnC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,GAEN,CAACyD,KAAK,CAACC,OAAO,CAACpB,aAAa,CAAC,GAAGA,aAAa,GAAG,EAAE,EAAEsB,GAAG,CAAE5E,YAAY,iBACnEJ,OAAA,CAACmC,gBAAgB;QAEf/B,YAAY,EAAEA,YAAa;QAC3BgC,MAAM,EAAE8B,UAAW;QACnB7B,QAAQ,EAAEgC,iBAAkB;QAC5B/B,MAAM,EAAE6B;MAAW,GAJd/D,YAAY,CAACqE,EAAE;QAAAxD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKrB,CACF;IACF;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGNpB,OAAA,CAACH,KAAK;MACJoF,MAAM,EAAEhC,QAAS;MACjBiC,OAAO,EAAEP,gBAAiB;MAC1BQ,KAAK,EAAEhC,mBAAmB,GAAG,mBAAmB,GAAG,qBAAsB;MACzEN,IAAI,EAAC,IAAI;MAAA7B,QAAA,eAEThB,OAAA,CAACG,gBAAgB;QACfC,YAAY,EAAE+C,mBAAoB;QAClC9C,QAAQ,EAAEiE,gBAAiB;QAC3BhE,QAAQ,EAAEqE,gBAAiB;QAC3BpE,SAAS,EAAEuD,cAAc,CAACvD,SAAS,IAAIwD,cAAc,CAACxD;MAAU;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC,eAGRpB,OAAA,CAACH,KAAK;MACJoF,MAAM,EAAE5B,eAAgB;MACxB6B,OAAO,EAAEA,CAAA,KAAM5B,kBAAkB,CAAC,KAAK,CAAE;MACzC6B,KAAK,EAAC,qBAAqB;MAAAnE,QAAA,eAE3BhB,OAAA;QAAKe,SAAS,EAAC,KAAK;QAAAC,QAAA,gBAClBhB,OAAA;UAAKe,SAAS,EAAC,kCAAkC;UAAAC,QAAA,gBAC/ChB,OAAA;YAAKe,SAAS,EAAC,uEAAuE;YAAAC,QAAA,eACpFhB,OAAA,CAACjB,aAAa;cAACgC,SAAS,EAAC;YAAsB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/C,CAAC,eACNpB,OAAA;YAAAgB,QAAA,gBACEhB,OAAA;cAAIe,SAAS,EAAC,kCAAkC;cAAAC,QAAA,GAAC,SACxC,EAACuC,oBAAoB,aAApBA,oBAAoB,uBAApBA,oBAAoB,CAAE/B,IAAI,EAAC,GACrC;YAAA;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACLpB,OAAA;cAAGe,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAGrC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENpB,OAAA;UAAKe,SAAS,EAAC,yCAAyC;UAAAC,QAAA,gBACtDhB,OAAA,CAACL,MAAM;YACLoC,OAAO,EAAC,WAAW;YACnBC,OAAO,EAAEA,CAAA,KAAMsB,kBAAkB,CAAC,KAAK,CAAE;YAAAtC,QAAA,EAC1C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTpB,OAAA,CAACL,MAAM;YACLoC,OAAO,EAAC,QAAQ;YAChBC,OAAO,EAAE4C,mBAAoB;YAC7B3C,QAAQ,EAAE+B,cAAc,CAACzD,SAAU;YAAAS,QAAA,EAElCgD,cAAc,CAACzD,SAAS,gBACvBP,OAAA,CAAAE,SAAA;cAAAc,QAAA,gBACEhB,OAAA,CAAChB,SAAS;gBAAC+B,SAAS,EAAC;cAA2B;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAErD;YAAA,eAAE,CAAC,GAEH;UACD;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV,CAAC;AAAC4B,GAAA,CAnNID,sBAAsB;EAAA,QAS0CzD,gBAAgB,EAC7DC,qBAAqB,EACrBC,qBAAqB,EACrBC,qBAAqB;AAAA;AAAA2F,GAAA,GAZxCrC,sBAAsB;AAqN5B,eAAeA,sBAAsB;AAAC,IAAAb,EAAA,EAAAY,GAAA,EAAAsC,GAAA;AAAAC,YAAA,CAAAnD,EAAA;AAAAmD,YAAA,CAAAvC,GAAA;AAAAuC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}